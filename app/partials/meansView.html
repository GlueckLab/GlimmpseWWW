<!doctype html>
<!--
* GLIMMPSE (General Linear Multivariate Model Power and Sample size)
* Copyright (C) 2013 Regents of the University of Colorado.
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public License
* as published by the Free Software Foundation; either version 2
* of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with this program; if not, write to the Free Software
* Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
-->

<h3>Means</h3>

<p>
    The table below shows the mean values for each outcome within each study subgroup.
    The study subgroups are listed along the left hand side of the table, and the
    outcomes are listed across the top.
</p>

<p>
    Enter the mean values you expect to observe for each outcome within each study subgroup.
    The table should contain at least one value that is non-zero. Also, at least two subgroups
    should have means which differ by a scientifically meaningful amount.
</p>

<div>
    <div class="well">
        <form novalidate>
            <div class="pull-left">
                <table class="table table-bordered table-condensed white-box">
                    <tr ng-repeat="factor in studyDesign.repeatedMeasuresTree">
                        <th colspan="{{studyDesign.betweenParticipantFactorList.length}}">
                            {{factor.dimension}}
                        </th>
                    </tr>
                    <tr>
                        <th colspan="{{studyDesign.betweenParticipantFactorList.length}}">
                            Response
                        </th>
                    </tr>
                    <tr>
                        <th ng-repeat="predictor in studyDesign.betweenParticipantFactorList">
                            {{predictor.predictorName}}
                        </th>
                    </tr>
                    <tr ng-repeat="row in betaMatrix.data.data  track by $id($index)">
                        <th ng-repeat="entry in metaData.predictorCombinationList">
                            {{entry[$parent.$index]}}
                        </th>
                    </tr>
                </table>

            </div>
            <div class="xscroll">
                <table class="table table-bordered table-condensed white-box">
                    <tr ng-repeat="factor in studyDesign.repeatedMeasuresTree">
                        <th ng-repeat="entry in metaData.responseCombinationList[$index] track by $id($index)">
                            {{entry}}
                        </th>
                    </tr>
                    <tr>
                        <th ng-repeat="entry in metaData.responseCombinationList[metaData.responseCombinationList.length-1] track by $id($index)">
                            {{entry}}
                        </th>
                    </tr>
                    <tr>
                        <td ng-repeat="column in betaMatrix.data.data[0] track by $id($index)">
                            &nbsp;
                        </td>
                    </tr>
                    <tr ng-repeat="row in betaMatrix.data.data  track by $id($index)">
                        <td ng-repeat="column in betaMatrix.data.data[0] track by $id($index)">
                            <input type="number" class="matrix-cell"
                                   ng-model="betaMatrix.data.data[$parent.$index][$index]"/>
                        </td>
                    </tr>
                </table>
            </div>

        </form>

    </div>

    <div ng-show="glimmpseConstants.debug == true">
        <div class="vmargin15">
            Beta: {{betaMatrix}}
        </div>
        <div class="vmargin15">
            Meta Data Responses: {{metaData.responseCombinationList}}
        </div>

    </div>
</div>

     <!--
<div class="input-group" ng-show="studyDesign.betweenParticipantFactorList.length > 0 &&
        studyDesign.responseList.length > 0">

<table>
       <tr>
            <th ng-repeat="predictor in studyDesign.betweenParticipantFactorList">
                {{predictor.predictorName}}
            </th>

            <th ng-repeat="variable in studyDesign.responseList">{{variable.name}}
            </th>
        </tr>

        <tr ng-repeat="i in groupsList">
           <td ng-repeat="count in groupsTable track by $id($index)">
                {{count[i]}}
           </td>
            <td ng-repeat="variable in studyDesign.responseList track by $id($index)">
                    <input type="text"
                           ng-model="studyDesign.matrixSet[studyDesign.getMatrixSetListIndexByName('beta')].data.data[$parent.$index]
                           [startColumn*studyDesign.responseList.length + $index]"
                           >
                    </input>

            </td>
        </tr>
</table>

    <div>
        <button value="left" ng-show="startColumn > 0"
                ng-click="shiftLeft()">
            left
        </button>

        <button value="right"
                ng-click="shiftRight()">
            right
        </button>

    </div>

</div>
    <p ng-show="studyDesign.repeatedMeasuresTree.length > 0">
        Select the time (location, etc.) from the list(s) below.
        This will allow you to edit the means at the selected time (location, etc.).
    </p>
<div>
        <table ng-repeat="measure in studyDesign.repeatedMeasuresTree">
            <tr>
                  <td>
                      {{measure.dimension}}
                  </td>
                   <td>
                       <select id="optionForMeansTime">
                           <option ng-repeat="number in measure.spacingList">
                               {{number.value}}
                           </option>
                       </select>
                   </td>
            </tr>
        </table>
</div>

    <div ng-show="glimmpseConstants.debug == true">
        {{studyDesign.matrixSet}}
    </div>
</div>    -->